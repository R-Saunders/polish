import { ChoreLibraryItem } from "@/types";

export const choreLibrary: ChoreLibraryItem[] = [
  // Kitchen
  {
    name: "Wipe worktops",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Kitchen",
  },
  {
    name: "Clean hob",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Kitchen",
  },
  {
    name: "Load/unload dishwasher",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Kitchen",
  },
  {
    name: "Wipe cabinet fronts",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Kitchen",
  },
  {
    name: "Clean microwave",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Kitchen",
  },
  {
    name: "Mop floor",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Kitchen",
  },
  {
    name: "Clean fridge exterior",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Kitchen",
  },
  {
    name: "Empty/clean bin",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Kitchen",
  },
  {
    name: "Clean toaster",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Kitchen",
  },
  {
    name: "Clean air fryer",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Kitchen",
  },
  {
    name: "Descale kettle",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Kitchen",
  },
  {
    name: "Clean coffee maker",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Kitchen",
  },
  {
    name: "Deep clean oven",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Kitchen",
  },
  {
    name: "Clean fridge interior",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Kitchen",
  },
  {
    name: "Degrease extractor hood",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Kitchen",
  },
  {
    name: "Clean behind appliances",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Kitchen",
  },
  {
    name: "Clean dishwasher filter",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Kitchen",
  },

  // Bathroom
  {
    name: "Wipe sink/worktop",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Bathroom",
  },
  {
    name: "Wipe toilet seat",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Bathroom",
  },
  {
    name: "Hang/fold towels",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Bathroom",
  },
  {
    name: "Clean mirror",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bathroom",
  },
  {
    name: "Scrub toilet bowl",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bathroom",
  },
  {
    name: "Clean shower/bath",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bathroom",
  },
  {
    name: "Mop floor",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bathroom",
  },
  {
    name: "Wash bath mats",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bathroom",
  },
  {
    name: "Scrub grout",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Bathroom",
  },
  {
    name: "Descale showerhead",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Bathroom",
  },
  {
    name: "Clean extractor fan",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Bathroom",
  },
  {
    name: "Wash shower curtain",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Bathroom",
  },

  // Living Room
  {
    name: "Plump cushions",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Living Room",
  },
  {
    name: "Vacuum/sweep floor",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Living Room",
  },
  {
    name: "Dust surfaces",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Living Room",
  },
  {
    name: "Dust electronics",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Living Room",
  },
  {
    name: "Wipe light switches",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Living Room",
  },
  {
    name: "Vacuum under cushions",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Living Room",
  },
  {
    name: "Dust ceiling fan",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Living Room",
  },
  {
    name: "Shampoo carpet/rugs",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Living Room",
  },

  // Bedroom
  {
    name: "Make bed",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Bedroom",
  },
  {
    name: "Put away clothes",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Bedroom",
  },
  {
    name: "Change pillowcases",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bedroom",
  },
  {
    name: "Change sheets",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bedroom",
  },
  {
    name: "Dust bedside tables",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bedroom",
  },
  {
    name: "Vacuum/sweep floor",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Bedroom",
  },
  {
    name: "Wash bedding/duvet cover",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Bedroom",
  },
  {
    name: "Vacuum mattress",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Bedroom",
  },
  {
    name: "Flip/rotate mattress",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Bedroom",
  },
  {
    name: "Clean under bed",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Bedroom",
  },
  {
    name: "Organise wardrobe",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Bedroom",
  },

  // Laundry
  {
    name: "Do laundry",
    suggested_level: "surface",
    suggested_frequency: "As needed",
    room_category: "Laundry",
  },
  {
    name: "Fold & put away",
    suggested_level: "surface",
    suggested_frequency: "As needed",
    room_category: "Laundry",
  },
  {
    name: "Clean lint trap",
    suggested_level: "surface",
    suggested_frequency: "Every load",
    room_category: "Laundry",
  },
  {
    name: "Wipe washer door seal",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Laundry",
  },
  {
    name: "Clean washer drum",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Laundry",
  },
  {
    name: "Clean dryer vent",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Laundry",
  },

  // Whole House
  {
    name: "Tidy up",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Whole House",
  },
  {
    name: "Take out rubbish",
    suggested_level: "surface",
    suggested_frequency: "Daily",
    room_category: "Whole House",
  },
  {
    name: "Take out recycling",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Whole House",
  },
  {
    name: "Vacuum stairs",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Whole House",
  },
  {
    name: "Wipe door handles",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Whole House",
  },
  {
    name: "Water plants",
    suggested_level: "surface",
    suggested_frequency: "Weekly",
    room_category: "Whole House",
  },
  {
    name: "Clean windows (interior)",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Whole House",
  },
  {
    name: "Clean windows (exterior)",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Whole House",
  },
  {
    name: "Wipe down interior walls",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Whole House",
  },
  {
    name: "Dust skirting boards",
    suggested_level: "deep",
    suggested_frequency: "Monthly",
    room_category: "Whole House",
  },
  {
    name: "Clean light fixtures",
    suggested_level: "deep",
    suggested_frequency: "Quarterly",
    room_category: "Whole House",
  },
];

export function getChoresByCategory(category: string): ChoreLibraryItem[] {
  return choreLibrary.filter((chore) => chore.room_category === category);
}

export function getAllCategories(): string[] {
  return [...new Set(choreLibrary.map((chore) => chore.room_category))];
}

// Adjust frequency based on household profile
export function adjustFrequency(
  baseFrequency: string,
  memberCount: number,
  pets: { type: string; size: string; count: number }[]
): string {
  const hasDogs = pets.some((p) => p.type === "dog");
  const hasLargeDogs = pets.some((p) => p.type === "dog" && p.size === "large");
  const hasCats = pets.some((p) => p.type === "cat");
  const totalPets = pets.reduce((sum, p) => sum + p.count, 0);

  // Floor cleaning adjustments
  if (baseFrequency === "Weekly" && (hasDogs || hasCats || memberCount >= 4)) {
    return "Twice weekly";
  }
  if (baseFrequency === "Weekly" && hasLargeDogs) {
    return "Every 2-3 days";
  }
  if (baseFrequency === "Monthly" && totalPets >= 3) {
    return "Fortnightly";
  }

  return baseFrequency;
}

// Suggest category based on room name
export function suggestCategoryForRoom(roomName: string): string {
  const name = roomName.toLowerCase();

  if (
    name.includes("kitchen") ||
    name.includes("dining") ||
    name.includes("pantry") ||
    name.includes("scullery")
  ) {
    return "Kitchen";
  }
  if (
    name.includes("bath") ||
    name.includes("toilet") ||
    name.includes("shower") ||
    name.includes("ensuite") ||
    name.includes("en-suite") ||
    name.includes("wc")
  ) {
    return "Bathroom";
  }
  if (
    name.includes("living") ||
    name.includes("lounge") ||
    name.includes("sitting") ||
    name.includes("family") ||
    name.includes("tv") ||
    name.includes("drawing")
  ) {
    return "Living Room";
  }
  if (
    name.includes("bed") ||
    name.includes("nursery") ||
    name.includes("guest") ||
    name.includes("wardrobe")
  ) {
    return "Bedroom";
  }
  if (
    name.includes("laundry") ||
    name.includes("utility") ||
    name.includes("wash")
  ) {
    return "Laundry";
  }

  // Default to logic based on first available if no match,
  // but the caller can handle the fallback.
  // We return 'Whole House' as a safe generic if nothing matches specific rooms.
  return "Whole House";
}
